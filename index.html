<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secure Terminal - init</title>
  <style>
    :root{--bg:#060606;--text:#33ff66;--muted:#9aa5a0}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#020202,#0b0b0b);font-family: "Courier New", Courier, monospace;color:var(--text)}
    .wrap{max-width:900px;margin:6vh auto;padding:28px;border-radius:10px;box-shadow:0 10px 40px rgba(0,0,0,.6);background:rgba(0,0,0,.45)}
    h1{margin:0 0 12px 0;font-size:20px;color:var(--text)}
    .terminal{background:#00000022;padding:18px;border-radius:8px;min-height:260px;position:relative;overflow:hidden}
    .line{white-space:pre-wrap;line-height:1.45;font-size:15px}
    .muted{color:var(--muted);font-size:13px}
    .cursor{display:inline-block;width:10px;height:18px;background:var(--text);margin-left:6px;animation:blink 1s steps(2) infinite;vertical-align:middle}
    @keyframes blink{50%{opacity:0}}
    .center{display:flex;gap:12px;justify-content:center;align-items:center;margin-top:18px}
    .progress{height:8px;background:#111;border-radius:6px;margin-top:12px;overflow:hidden}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,#33ff66,#7ef2a6);transition:width .4s ease}
    footer{margin-top:14px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Secure Terminal — initializing session</h1>
    <div class="terminal" id="term" aria-live="polite">
      <div class="line muted">[system] kernel v4.19 loaded · secure mode enabled</div>
      <div class="line" id="output"></div>
      <div class="cursor" id="cursor"></div>
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
    </div>

    <div class="center" id="final" style="display:none">
      <div class="line" style="color:#ff5555;font-weight:bold">Failed to retrieve — your device is not powerful enough</div>
    </div>

    <footer>Connected to kali</footer>
  </div>

<script>
(function(){
  const seq = [];
  // generate long sequence (2 hours effect)
  const actions = ["scanning network interfaces...", "initializing protocol stack...", "establishing secure tunnel...", "authenticating keys...", "loading modules...", "checking system integrity...", "simulating data retrieval...", "decrypting segments...", "verifying checksum...", "auto-solving errors..."];
  const errors = ["[error] segment missing","[warning] latency spike detected","[error] checksum mismatch","[error] module load failed"];
  
  // generate ~150 lines with random actions/errors
  for(let i=0;i<150;i++){
    if(Math.random()<0.25){
      seq.push(errors[Math.floor(Math.random()*errors.length)]);
      seq.push("[fix] applying automatic solution...");
    } else {
      seq.push(actions[Math.floor(Math.random()*actions.length)] + " id:" + randomHex(6));
    }
  }

  const output = document.getElementById('output');
  const bar = document.getElementById('bar');
  const final = document.getElementById('final');

  let i = 0;
  function typeLine(text, cb){
    let j = 0;
    const speed = 20 + Math.random()*40; // slow typing effect
    function step(){
      if(j <= text.length){
        output.textContent = output.textContent.replace(/\u2588$/,'') + text.slice(0,j) + '\u2588';
        j++;
        setTimeout(step, speed);
      } else {
        output.textContent = output.textContent.replace(/\u2588$/,'') + "\n";
        cb && cb();
      }
    }
    step();
  }

  function runSequence(){
    if(i<seq.length){
      const percent = Math.floor((i / seq.length) * 90); // progress slowly
      bar.style.width = percent + "%";
      typeLine(seq[i], ()=>{
        i++;
        // random delay 0.5s ~ 5s for long runtime
        const delay = 500 + Math.random()*4500;
        setTimeout(runSequence, delay);
      });
    } else {
      // final slow completion
      let finalPercent = 90;
      const finInterval = setInterval(()=>{
        finalPercent += 0.1; // very slow
        bar.style.width = finalPercent + "%";
        if(finalPercent>=100){
          clearInterval(finInterval);
          typeLine("[complete] session terminated · device cannot handle full retrieval", ()=>{
            document.getElementById('cursor').style.display='none';
            final.style.display='flex';
          });
        }
      },1000);
    }
  }

  setTimeout(runSequence,600);

  function randomHex(len){
    const chars="abcdef0123456789";
    let s="";
    for(let k=0;k<len;k++) s+=chars[Math.floor(Math.random()*chars.length)];
    return s;
  }

})();
</script>
</body>
</html>
